<ion-toolbar color="light">
  <ion-grid class="p-y-0">
    <ion-row class="searchbar-wrpper">
      <ion-col size-md="10" size-xs="7">
        <ion-input name="search" placeholder="Search ID, Ref, Postcode, Name"></ion-input>
      </ion-col>
      <ion-col size-md="2" size-xs="5" class="ion-text-end">
        <ion-button color="secondary" size="small">
          Filters
        </ion-button>
        <ion-button color="secondary" size="small">
          Sort
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-toolbar>
<div class="filters active">
  <div class="filter-body">
    <ion-grid>
      <ion-row>
        <ion-col size-xs="12">
          <h6>Quick Filter</h6>
          <ion-button shape="round" color="secondary" size="small" fill="outline">On Arrangement</ion-button>
          <ion-button shape="round" color="secondary" size="small" fill="outline">Need a Visit</ion-button>
        </ion-col>
      </ion-row>
      <div class="divider"></div>
      <ion-row>
        <ion-col size-xs="12">
          <h6>Schemes</h6>
          <ion-button shape="round" color="secondary" size="small" fill="outline">Parking Internal Agents (16)</ion-button>
          <ion-button shape="round" color="secondary" size="small" fill="outline">CT External Agents (6)</ion-button>
          <ion-button shape="round" color="secondary" size="small" fill="outline">CT Initial Workflow (4)</ion-button>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="12">
          <h6>Stage</h6>
          <ion-button shape="round" color="secondary" size="small" fill="outline">NOE Issued (15)</ion-button>
          <ion-button shape="round" color="secondary" size="small" fill="outline">Attendance Requried (1)</ion-button>
          <ion-button shape="round" color="secondary" size="small" fill="outline">Visits Complete Review Case (1)</ion-button>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="12">
          <h6>Status</h6>
          <ion-button shape="round" color="secondary" size="small" fill="outline">On Arrangement (15)</ion-button>
          <ion-button shape="round" color="secondary" size="small" fill="outline">Live (1)</ion-button>
          <ion-button shape="round" color="secondary" size="small" fill="outline">Trace (1)</ion-button>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="12">
          <h6>Client</h6>
          <ion-button shape="round" color="secondary" size="small" fill="outline">AVDC (146)</ion-button>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="12">
          <h6>Visit Count</h6>
          <ion-button shape="round" color="secondary" size="small" fill="outline">0 (21)</ion-button>
          <ion-button shape="round" color="secondary" size="small" fill="outline">1 (2)</ion-button>
          <ion-button shape="round" color="secondary" size="small" fill="outline">2 (1)</ion-button>
          <ion-button shape="round" color="secondary" size="small" fill="outline">3 (16)</ion-button>
          <ion-button shape="round" color="secondary" size="small" fill="outline">3+ (6)</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <div class="filter-footer">
    <ion-grid>
      <ion-row>
        <ion-col size-xs="6">
          <ion-button color="dark" size="default" fill="clear">CLEAR</ion-button>
        </ion-col>
        <ion-col size-xs="6" class="ion-text-end">
          <ion-button color="secondary" size="default" fill="solid">Apply Filter</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</div>
<div class="filters sort">
  <div class="filter-body">
    <ion-grid>
      <ion-row>
        <ion-col size-xs="12">
          <h6>Sort</h6>
          <ion-button shape="round" color="secondary" size="small" fill="outline">On Arrangement</ion-button>
          <ion-button shape="round" color="secondary" size="small" fill="outline">Need a Visit</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</div>
<ion-content>

  <!-- sort toolbar -->

  <!-- sort toolbar -->

  <!-- table -->
  <div class="table-responsive">
    <table class="table table-striped">
      <thead>
        <tr>
          <th style="width:3%"></th>
          <th style="width:3%"></th>
          <th style="width:10%">Case ID</th>
          <th style="width:14%">Ref</th>
          <th style="width:20%">Name</th>
          <th style="width:10%">Amount</th>
          <th style="width:10%">Linked</th>
          <th style="width:13%">Postcode</th>
          <th style="width:7%">Visits</th>
          <th style="width:10%">Details</th>
          <th style="width:10%">Report</th>
        </tr>
      </thead>
      <tbody>
        <tr class="no-border" *ngFor="let case of cases">
          <td>
            <ion-icon name="caret-forward-outline" *ngIf="case.linked_cases != ''"></ion-icon>
          </td>
          <td>
            <ion-checkbox mode="md" color="secondary" slot="start"></ion-checkbox>
          </td>
          <td>{{case.id}}</td>
          <td>{{case.ref}}</td>
          <td>{{case.debtor.debtor_name}}</td>
          <td>{{case.d_outstanding}}</td>
          <td>#00#</td>
          <td>{{case.debtor.addresses[0].address_postcode}}</td>
          <td>{{case.visitcount_total}}</td>
          <td class="action ">
            <ion-button size="small" color="secondary">
              Details
            </ion-button>
          </td>
          <td class="action">
            <ion-button size="small" color="tertiary">
              Report
            </ion-button>
          </td>
        </tr>
        <!-- <tr class="linked-case">
          <td class="p-x-0 p-y-0" colspan=10>
            <div>
              <h4>Linked cases</h4>
              <table class="table">
                <tr class="no-border">
                  <th style="width:2%"></th>
                  <th style="width:2%"></th>
                  <th style="width:10%">Case ID</th>
                  <th style="width:15%">Ref</th>
                  <th style="width:10%">Amount</th>
                  <th style="width:15%">Offence Date</th>
                  <th style="width:13%">Date</th>
                  <th style="width:13%">Expiry Date</th>
                  <th style="width:10%">Details</th>
                  <th style="width:10%">Report</th>
                </tr>
                <tr class="no-border">
                  <td>
                  </td>
                  <td>
                  </td>
                  <td>51234</td>
                  <td>PCN1234</td>
                  <td>654865</td>
                  <td>2020-12-8</td>
                  <td>2020-12-8</td>
                  <td>2020-12-8</td>
                  <td class="action ">
                    <ion-button size="small" color="secondary">
                      Details
                    </ion-button>
                  </td>
                  <td class="action">
                    <ion-button size="small" color="tertiary">
                      Report
                    </ion-button>
                  </td>
                </tr>
                <tr class="no-border">
                  <td>
                  </td>
                  <td>
                  </td>
                  <td>51234</td>
                  <td>PCN1234</td>
                  <td>654865</td>
                  <td>2020-12-8</td>
                  <td>2020-12-8</td>
                  <td>2020-12-8</td>
                  <td class="action ">
                    <ion-button size="small" color="secondary">
                      Details
                    </ion-button>
                  </td>
                  <td class="action">
                    <ion-button size="small" color="tertiary">
                      Report
                    </ion-button>
                  </td>
                </tr>
              </table>
            </div>
          </td>
        </tr> -->
      </tbody>
      <tfoot>
        
      </tfoot>
    </table>
    <ion-infinite-scroll threshold="100px" id="infinite-scroll" (ionInfinite)="loadData($event)">
      <ion-infinite-scroll-content loading-spinner="bubbles" loading-text="Loading more data...">
      </ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </div>
  <!-- table -->

</ion-content>
<ion-footer>
  <ion-toolbar>
    <ion-button color="secondary" expand="full" hidden>Show 2 cases on Map</ion-button>
  </ion-toolbar>
</ion-footer>